<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Vocabulaire IllustrÃ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            border-radius: 20px 20px 0 0;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 28px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .subtitle {
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .topic-btn {
            position: relative;
            width: 120px;
            height: 120px;
            border: 4px solid #ffd700;
            border-radius: 20px; 
            font-size: 14px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15), 0 0 0 2px rgba(255, 215, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            margin: 0 auto;
            overflow: hidden;
        }

        .topic-btn::before {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            border-radius: 20px;  
            z-index: -1;
            animation: goldShimmer 3s ease-in-out infinite;
        }

        .topic-btn::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            right: 2px;
            bottom: 2px;
            background: linear-gradient(45deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));
            border-radius: 20px;
            z-index: 1;
        }

        @keyframes goldShimmer {
            0%, 100% { transform: rotate(0deg); opacity: 0.7; }
            50% { transform: rotate(180deg); opacity: 1; }
        }

        .topic-btn:hover {
            transform: translateY(-8px) scale(1.08);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25), 0 0 0 4px rgba(255, 215, 0, 0.6);
            border-color: #ffed4e;
        }

        .topic-btn:hover::before {
            animation-duration: 1s;
        }

        .topic-btn .topic-content {
            position: relative;
            z-index: 2;
        }

        .fruits { background: linear-gradient(135deg, #ff6b6b, #ee5a52); }
        .vegetables { background: linear-gradient(135deg, #4ecdc4, #44a08d); }
        .professions { background: linear-gradient(135deg, #45b7d1, #2196f3); }
        .maison { background: linear-gradient(135deg, #96ceb4, #85c1a6); }
        .animaux { background: linear-gradient(135deg, #feca57, #ff9f43); }
        .couleurs { background: linear-gradient(135deg, #ff7675, #fd79a8); }
        .aliments { background: linear-gradient(135deg, #a29bfe, #6c5ce7); }
        .vetements { background: linear-gradient(135deg, #fd79a8, #fdcb6e); }
        .famille { background: linear-gradient(135deg, #00b894, #00cec9); }
        .ecole { background: linear-gradient(135deg, #e17055, #d63031); }
        .transport { background: linear-gradient(135deg, #0984e3, #74b9ff); }
        .corps { background: linear-gradient(135deg, #00cec9, #55a3ff); }

        .vocabulary-page {
            display: none;
        }

        .vocabulary-page.active {
            display: block;
        }

        .back-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .back-btn:hover {
            transform: translateY(-2px) scale(1.1);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .vocabulary-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 18px;
        }

        .vocab-item {
            position: relative;
            background: white;
            border-radius: 18px;
            padding: 18px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .vocab-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .vocab-image {
            width: 140px;
            height: 165px;
            background: #f8f9fa;
            border-radius: 15px;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            border: 3px solid #e9ecef;
        }

        .vocab-label {
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .page-title {
            text-align: center;
            font-size: 24px;
            color: #333;
            margin-bottom: 25px;
            font-weight: 700;
        }

        .audio-indicator {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 20px;
            height: 20px;
            background: #4ecdc4;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 10px;
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px;
            font-size: 16px;
            color: #666;
        }

        .error-message {
            text-align: center;
            color: #e74c3c;
            padding: 20px;
            background: #ffeaea;
            border-radius: 10px;
            margin: 10px 0;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: #e9ecef;
            border-radius: 2px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ecdc4, #45b7d1);
            width: 0%;
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            font-size: 12px;
            color: #666;
        }

        .learned {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
        }

        .quiz-mode, .games-mode {
            background: linear-gradient(135deg, #e17055, #d63031);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            margin-left: 8px;
            box-shadow: 0 4px 15px rgba(225, 112, 85, 0.3);
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .games-mode {
            background: linear-gradient(135deg, #00b894, #00cec9);
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
        }

        .quiz-mode:hover, .games-mode:hover {
            transform: translateY(-2px);
            text-decoration: none;
        }

        .quiz-mode:hover {
            box-shadow: 0 6px 20px rgba(225, 112, 85, 0.4);
        }

        .games-mode:hover {
            box-shadow: 0 6px 20px rgba(0, 184, 148, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div id="homepage" class="page active">
            <div class="header">
                <h1>Mon Vocabulaire IllustrÃ©</h1>
                <p class="subtitle">Apprendre le franÃ§ais avec des images et des sons</p>
            </div>
            
            <div class="topics-grid">
                <button class="topic-btn fruits" onclick="showVocabulary('fruits')" onmouseenter="speakTopicTitle('Les Fruits')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="fruits-emoji" src="data/emoji/les fruits.png" alt="ğŸ" style="width: 60px; height: 60px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ</div>
                        <div>Les Fruits</div>
                    </div>
                </button>
                <button class="topic-btn vegetables" onclick="showVocabulary('legumes')" onmouseenter="speakTopicTitle('Les LÃ©gumes')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="legumes-emoji" src="data/emoji/les legumes.jpg" alt="ğŸ¥•" style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ¥•</div>
                        <div>Les LÃ©gumes</div>
                    </div>
                </button>
                <button class="topic-btn professions" onclick="showVocabulary('professions')" onmouseenter="speakTopicTitle('Les Professions')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="professions-emoji" src="data/emoji/les professions.jpg" alt="ğŸ‘¨â€âš•ï¸" style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ‘¨â€âš•ï¸</div>
                        <div>Les Professions</div>
                    </div>
                </button>
                <button class="topic-btn maison" onclick="showVocabulary('maison')" onmouseenter="speakTopicTitle('La Maison')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="maison-emoji" src="data/emoji/la maison.jpg" alt="ğŸ " style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ </div>
                        <div>La Maison</div>
                    </div>
                </button>
                <button class="topic-btn animaux" onclick="showVocabulary('animaux')" onmouseenter="speakTopicTitle('Les Animaux')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="animaux-emoji" src="data/emoji/les animaux.jpg" alt="ğŸ±" style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ±</div>
                        <div>Les Animaux</div>
                    </div>
                </button>
                <button class="topic-btn couleurs" onclick="showVocabulary('couleurs')" onmouseenter="speakTopicTitle('Les Couleurs')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="couleurs-emoji" src="data/emoji/les couleurs.jpg" alt="ğŸ¨" style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ¨</div>
                        <div>Les Couleurs</div>
                    </div>
                </button>
                <button class="topic-btn aliments" onclick="showVocabulary('aliments')" onmouseenter="speakTopicTitle('Les Aliments')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="aliments-emoji" src="data/emoji/les aliments.jpg" alt="ğŸ" style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ</div>
                        <div>Les Aliments</div>
                    </div>
                </button>
                <button class="topic-btn vetements" onclick="showVocabulary('vetements')" onmouseenter="speakTopicTitle('Les VÃªtements')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="vetements-emoji" src="data/emoji/les vetements.jpg" alt="ğŸ‘•" style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ‘•</div>
                        <div>Les VÃªtements</div>
                    </div>
                </button>
                <button class="topic-btn famille" onclick="showVocabulary('famille')" onmouseenter="speakTopicTitle('La Famille')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="famille-emoji" src="data/emoji/la famille.jpg" alt="ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦" style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div>
                        <div>La Famille</div>
                    </div>
                </button>
                <button class="topic-btn ecole" onclick="showVocabulary('ecole')" onmouseenter="speakTopicTitle('L Ã‰cole')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="ecole-emoji" src="data/emoji/l ecole.jpg" alt="ğŸ“š" style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ“š</div>
                        <div>L'Ã‰cole</div>
                    </div>
                </button>
                <button class="topic-btn transport" onclick="showVocabulary('transport')" onmouseenter="speakTopicTitle('Les Transports')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="transport-emoji" src="data/emoji/les transports.jpg" alt="ğŸš—" style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸš—</div>
                        <div>Les Transports</div>
                    </div>
                </button>
                <button class="topic-btn corps" onclick="showVocabulary('corps')" onmouseenter="speakTopicTitle('Le Corps')" onmouseleave="stopSpeaking()">
                    <div class="topic-content">
                        <img id="corps-emoji" src="data/emoji/le corps.jpg" alt="ğŸ‘¤" style="width: 40px; height: 40px; margin-bottom: 5px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; font-size: 28px; margin-bottom: 5px;">ğŸ‘¤</div>
                        <div>Le Corps</div>
                    </div>
                </button>
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª -->
        <div id="vocabulary-page" class="vocabulary-page">
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <button class="back-btn" onclick="showHomepage()" title="Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">ğŸ </button>
                <a id="quiz-link" href="#" class="quiz-mode" target="_blank">ğŸ“ Mode Quiz</a>
                <a id="games-link" href="#" class="games-mode" target="_blank">ğŸ® Mode Jeux</a>
            </div>
            <h2 id="topic-title" class="page-title"></h2>
            
            <div class="stats">
                <span id="learned-count">Appris: 0/8</span>
                <span id="progress-percent">0%</span>
            </div>
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            
            <div id="vocabulary-content" class="vocabulary-grid">
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª Ù…Ø¹ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„ØªØ¹Ø¨ÙŠØ±ÙŠØ© ÙƒØ¨Ø¯ÙŠÙ„ Ù„Ù„ØµÙˆØ±
        const vocabularyData = {
            fruits: {
                title: "Les Fruits",
                items: [
                    { name: "pomme", emoji: "ğŸ", label: "Pomme" },
                    { name: "banane", emoji: "ğŸŒ", label: "Banane" },
                    { name: "orange", emoji: "ğŸŠ", label: "Orange" },
                    { name: "fraise", emoji: "ğŸ“", label: "Fraise" },
                    { name: "raisin", emoji: "ğŸ‡", label: "Raisin" },
                    { name: "peche", emoji: "ğŸ‘", label: "PÃªche" },
                    { name: "ananas", emoji: "ğŸ", label: "Ananas" },
                    { name: "melon", emoji: "ğŸ", label: "Melon" },
                    { name: "abricot", emoji: "ğŸ", label: "Abricot" },
                    { name: "kiwi", emoji: "ğŸ", label: "kiwi" },
                    { name: "poire", emoji: "ğŸ", label: "poire" },
                    { name: "avocat", emoji: "ğŸ", label: "avocat" },
                    { name: "framboise", emoji: "ğŸ", label: "framboise" },
                    { name: "cerise", emoji: "ğŸ", label: "cerise" },
                    { name: "pastÃ©que", emoji: "ğŸ‰", label: "pastÃ©que" },
                    { name: "kaki", emoji: "ğŸ", label: "kaki" },
                    { name: "figue", emoji: "ğŸ", label: "figue" },
                    { name: "citron", emoji: "ğŸ", label: "citron" },
                    { name: "ClÃ©mentine", emoji: "ğŸ", label: "ClÃ©mentine" },
                    { name: "Fruit du dragon", emoji: "ğŸ‰", label: "Fruit du dragon" },
                    { name: "mangue", emoji: "ğŸ", label: "mangue" },
                    { name: "grenade", emoji: "ğŸ‰", label: "grenade" },
                    { name: "mÃ»re", emoji: "ğŸ", label: "mÃ»re" },
                    { name: "pamplemousse", emoji: "ğŸ", label: "pamplemousse" },
                    { name: "papaye", emoji: "ğŸ‰", label: "papaye" },
                    { name: "prune", emoji: "ğŸ", label: "prune" },
                    { name: "myrtille", emoji: "ğŸ", label: "myrtille" },
                    { name: "Noix de coco", emoji: "ğŸ‰", label: "Noix de coco" }
                ]
            },
            legumes: {
                title: "Les LÃ©gumes",
                items: [
                    { name: "carotte", emoji: "ğŸ¥•", label: "Carotte" },
                    { name: "tomate", emoji: "ğŸ…", label: "Tomate" },
                    { name: "brocoli", emoji: "ğŸ¥¦", label: "Brocoli" },
                    { name: "pomme_de_terre", emoji: "ğŸ¥”", label: "Pomme de terre" },
                    { name: "oignon", emoji: "ğŸ§…", label: "Oignon" },
                    { name: "poivron", emoji: "ğŸ«‘", label: "Poivron" },
                    { name: "salade", emoji: "ğŸ¥¬", label: "Salade" },
                    { name: "mais", emoji: "ğŸŒ½", label: "MaÃ¯s" }
                ]
            },
            professions: {
                title: "Les Professions",
                items: [
                    { name: "docteur", emoji: "ğŸ‘¨â€âš•ï¸", label: "Docteur" },
                    { name: "professeur", emoji: "ğŸ‘¨â€ğŸ«", label: "Professeur" },
                    { name: "policier", emoji: "ğŸ‘®â€â™‚ï¸", label: "Policier" },
                    { name: "pompier", emoji: "ğŸ‘¨â€ğŸš’", label: "Pompier" },
                    { name: "cuisinier", emoji: "ğŸ‘¨â€ğŸ³", label: "Cuisinier" },
                    { name: "pilote", emoji: "ğŸ‘¨â€âœˆï¸", label: "Pilote" },
                    { name: "mecanicien", emoji: "ğŸ‘¨â€ğŸ”§", label: "MÃ©canicien" },
                    { name: "artiste", emoji: "ğŸ‘¨â€ğŸ¨", label: "Artiste" }
                ]
            },
            maison: {
                title: "La Maison",
                items: [
                    { name: "lit", emoji: "ğŸ›ï¸", label: "Lit" },
                    { name: "chaise", emoji: "ğŸª‘", label: "Chaise" },
                    { name: "table", emoji: "ğŸªŸ", label: "Table" },
                    { name: "fenetre", emoji: "ğŸªŸ", label: "FenÃªtre" },
                    { name: "porte", emoji: "ğŸšª", label: "Porte" },
                    { name: "televiseur", emoji: "ğŸ“º", label: "TÃ©lÃ©viseur" },
                    { name: "refrigerateur", emoji: "ğŸ§Š", label: "RÃ©frigÃ©rateur" },
                    { name: "lampe", emoji: "ğŸ’¡", label: "Lampe" }
                ]
            },
            animaux: {
                title: "Les Animaux",
                items: [
                    { name: "chat", emoji: "ğŸ±", label: "Chat" },
                    { name: "chien", emoji: "ğŸ¶", label: "Chien" },
                    { name: "oiseau", emoji: "ğŸ¦", label: "Oiseau" },
                    { name: "poisson", emoji: "ğŸŸ", label: "Poisson" },
                    { name: "elephant", emoji: "ğŸ˜", label: "Ã‰lÃ©phant" },
                    { name: "lion", emoji: "ğŸ¦", label: "Lion" },
                    { name: "lapin", emoji: "ğŸ°", label: "Lapin" },
                    { name: "vache", emoji: "ğŸ„", label: "Vache" }
                ]
            },
            couleurs: {
                title: "Les Couleurs",
                items: [
                    { name: "rouge", emoji: "ğŸ”´", label: "Rouge" },
                    { name: "bleu", emoji: "ğŸ”µ", label: "Bleu" },
                    { name: "jaune", emoji: "ğŸŸ¡", label: "Jaune" },
                    { name: "vert", emoji: "ğŸŸ¢", label: "Vert" },
                    { name: "orange", emoji: "ğŸŸ ", label: "Orange" },
                    { name: "violet", emoji: "ğŸŸ£", label: "Violet" },
                    { name: "noir", emoji: "âš«", label: "Noir" },
                    { name: "blanc", emoji: "âšª", label: "Blanc" }
                ]
            },
            aliments: {
                title: "Les Aliments",
                items: [
                    { name: "pain", emoji: "ğŸ", label: "Pain" },
                    { name: "fromage", emoji: "ğŸ§€", label: "Fromage" },
                    { name: "lait", emoji: "ğŸ¥›", label: "Lait" },
                    { name: "oeuf", emoji: "ğŸ¥š", label: "Å’uf" },
                    { name: "viande", emoji: "ğŸ¥©", label: "Viande" },
                    { name: "poisson", emoji: "ğŸŸ", label: "Poisson" },
                    { name: "riz", emoji: "ğŸš", label: "Riz" },
                    { name: "pates", emoji: "ğŸ", label: "PÃ¢tes" }
                ]
            },
            vetements: {
                title: "Les VÃªtements",
                items: [
                    { name: "chemise", emoji: "ğŸ‘•", label: "Chemise" },
                    { name: "pantalon", emoji: "ğŸ‘–", label: "Pantalon" },
                    { name: "robe", emoji: "ğŸ‘—", label: "Robe" },
                    { name: "chaussures", emoji: "ğŸ‘", label: "Chaussures" },
                    { name: "chapeau", emoji: "ğŸ©", label: "Chapeau" },
                    { name: "manteau", emoji: "ğŸ§¥", label: "Manteau" },
                    { name: "chaussettes", emoji: "ğŸ§¦", label: "Chaussettes" },
                    { name: "lunettes", emoji: "ğŸ‘“", label: "Lunettes" }
                ]
            },
            famille: {
                title: "La Famille",
                items: [
                    { name: "pere", emoji: "ğŸ‘¨", label: "PÃ¨re" },
                    { name: "mere", emoji: "ğŸ‘©", label: "MÃ¨re" },
                    { name: "fils", emoji: "ğŸ‘¦", label: "Fils" },
                    { name: "fille", emoji: "ğŸ‘§", label: "Fille" },
                    { name: "grand_pere", emoji: "ğŸ‘´", label: "Grand-pÃ¨re" },
                    { name: "grand_mere", emoji: "ğŸ‘µ", label: "Grand-mÃ¨re" },
                    { name: "frere", emoji: "ğŸ‘¨â€ğŸ‘¦", label: "FrÃ¨re" },
                    { name: "soeur", emoji: "ğŸ‘©â€ğŸ‘§", label: "SÅ“ur" }
                ]
            },
            ecole: {
                title: "L'Ã‰cole",
                items: [
                    { name: "livre", emoji: "ğŸ“–", label: "Livre" },
                    { name: "crayon", emoji: "âœï¸", label: "Crayon" },
                    { name: "stylo", emoji: "ğŸ–Šï¸", label: "Stylo" },
                    { name: "cahier", emoji: "ğŸ““", label: "Cahier" },
                    { name: "tableau", emoji: "ğŸ–¼ï¸", label: "Tableau" },
                    { name: "sac", emoji: "ğŸ’", label: "Sac" },
                    { name: "regle", emoji: "ğŸ“", label: "RÃ¨gle" },
                    { name: "gomme", emoji: "ğŸ—‚ï¸", label: "Gomme" }
                ]
            },
            transport: {
                title: "Les Transports",
                items: [
                    { name: "voiture", emoji: "ğŸš—", label: "Voiture" },
                    { name: "bus", emoji: "ğŸšŒ", label: "Bus" },
                    { name: "train", emoji: "ğŸš‚", label: "Train" },
                    { name: "avion", emoji: "âœˆï¸", label: "Avion" },
                    { name: "bateau", emoji: "ğŸš¢", label: "Bateau" },
                    { name: "velo", emoji: "ğŸš²", label: "VÃ©lo" },
                    { name: "moto", emoji: "ğŸï¸", label: "Moto" },
                    { name: "metro", emoji: "ğŸš‡", label: "MÃ©tro" }
                ]
            },
            corps: {
                title: "Le Corps",
                items: [
                    { name: "tete", emoji: "ğŸ‘¤", label: "TÃªte" },
                    { name: "yeux", emoji: "ğŸ‘€", label: "Yeux" },
                    { name: "nez", emoji: "ğŸ‘ƒ", label: "Nez" },
                    { name: "bouche", emoji: "ğŸ‘„", label: "Bouche" },
                    { name: "main", emoji: "âœ‹", label: "Main" },
                    { name: "pied", emoji: "ğŸ¦¶", label: "Pied" },
                    { name: "oreille", emoji: "ğŸ‘‚", label: "Oreille" },
                    { name: "bras", emoji: "ğŸ’ª", label: "Bras" }
                ]
            }
        };

        // Ù…ØªØºÙŠØ± Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„ØµÙˆØª Ø§Ù„Ø­Ø§Ù„ÙŠ
        let currentAudio = null;
        let currentTopic = null;
        let learnedWords = new Set();
        let favorites = new Set();
        let topicSpeech = null;

        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹
        function speakTopicTitle(title) {
            stopSpeaking(); // Ø¥ÙŠÙ‚Ø§Ù Ø£ÙŠ ØµÙˆØª Ø³Ø§Ø¨Ù‚
            if ('speechSynthesis' in window) {
                topicSpeech = new SpeechSynthesisUtterance(title);
                topicSpeech.lang = 'fr-FR';
                topicSpeech.rate = 0.8;
                topicSpeech.pitch = 1;
                speechSynthesis.speak(topicSpeech);
            }
        }

        // Ø¥ÙŠÙ‚Ø§Ù ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
        function stopSpeaking() {
            if (topicSpeech && 'speechSynthesis' in window) {
                speechSynthesis.cancel();
                topicSpeech = null;
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ¹Ù„Ù…
        function updateStats() {
            if (!currentTopic) return;
            
            const totalWords = vocabularyData[currentTopic].items.length;
            const learnedCount = learnedWords.size;
            const percentage = Math.round((learnedCount / totalWords) * 100);
            
            document.getElementById('learned-count').textContent = `Appris: ${learnedCount}/${totalWords}`;
            document.getElementById('progress-percent').textContent = `${percentage}%`;
            document.getElementById('progress-fill').style.width = `${percentage}%`;
        }

        // ØªØ­Ø¯ÙŠØ« Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ÙƒÙˆÙŠØ² ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ù…Ø­Ø¯Ø¯
        function updateQuizAndGamesLinks(topic) {
            const quizLink = document.getElementById('quiz-link');
            const gamesLink = document.getElementById('games-link');
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ø³Ø§Ø± Ø§Ù„ÙƒÙˆÙŠØ² Ù„ÙŠÙƒÙˆÙ† ÙÙŠ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹
            quizLink.href = `data/${topic}/quiz.html`;
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ø³Ø§Ø± Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„ÙŠÙƒÙˆÙ† ÙÙŠ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹
            gamesLink.href = `data/${topic}/jeux.html`;
        }

        function showVocabulary(topic) {
            const data = vocabularyData[topic];
            if (!data) return;

            currentTopic = topic;
            learnedWords.clear(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù„Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯

            // ØªØ­Ø¯ÙŠØ« Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ÙƒÙˆÙŠØ² ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨
            updateQuizAndGamesLinks(topic);

            document.getElementById('homepage').style.display = 'none';
            document.getElementById('vocabulary-page').style.display = 'block';
            document.getElementById('topic-title').textContent = data.title;

            const content = document.getElementById('vocabulary-content');
            content.innerHTML = '';

            data.items.forEach((item, index) => {
                const vocabItem = document.createElement('div');
                vocabItem.className = 'vocab-item';
                
                // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø«Ù… Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø±Ù…Ø² Ø§Ù„ØªØ¹Ø¨ÙŠØ±ÙŠ
                const imagePath = `data/${topic}/${item.name}.jpg`;
                const img = new Image();
                img.onload = function() {
                    vocabItem.innerHTML = `
                        <button class="favorite-btn" onclick="toggleFavorite('${topic}', '${item.name}', this)" title="Ajouter aux favoris">â™¡</button>
                        <div class="audio-indicator">ğŸ”Š</div>
                        <div class="vocab-image">
                            <img src="${imagePath}" alt="${item.label}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 12px;">
                        </div>
                        <div class="vocab-label">${item.label}</div>
                    `;
                    addEventListeners();
                };
                img.onerror = function() {
                    // ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø§Ù„ØµÙˆØ±Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±Ù…Ø² Ø§Ù„ØªØ¹Ø¨ÙŠØ±ÙŠ
                    vocabItem.innerHTML = `
                        <button class="favorite-btn" onclick="toggleFavorite('${topic}', '${item.name}', this)" title="Ajouter aux favoris">â™¡</button>
                        <div class="audio-indicator">ğŸ”Š</div>
                        <div class="vocab-image">${item.emoji}</div>
                        <div class="vocab-label">${item.label}</div>
                    `;
                    addEventListeners();
                };
                img.src = imagePath;

                function addEventListeners() {
                    // Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± ÙÙ‚Ø·
                    vocabItem.addEventListener('click', () => {
                        playAudio(topic, item.name, vocabItem);
                        markAsLearned(item.name, vocabItem);
                    });
                }
                
                content.appendChild(vocabItem);
            });

            updateStats();
        }

        function showHomepage() {
            document.getElementById('vocabulary-page').style.display = 'none';
            document.getElementById('homepage').style.display = 'block';
            
            // Ø¥ÙŠÙ‚Ø§Ù Ø£ÙŠ ØµÙˆØª Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„
            if (currentAudio) {
                currentAudio.pause();
                currentAudio = null;
            }
            
            stopSpeaking(); // Ø¥ÙŠÙ‚Ø§Ù ØµÙˆØª Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
            currentTopic = null;
        }

        // ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø© ÙƒÙ…ØªØ¹Ù„Ù…Ø©
        function markAsLearned(wordName, element) {
            learnedWords.add(wordName);
            element.classList.add('learned');
            updateStats();
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©
        function toggleFavorite(topic, wordName, button) {
            const key = `${topic}-${wordName}`;
            if (favorites.has(key)) {
                favorites.delete(key);
                button.textContent = 'â™¡';
                button.classList.remove('active');
            } else {
                favorites.add(key);
                button.textContent = 'â™¥';
                button.classList.add('active');
            }
        }

        function playAudio(topic, itemName, element) {
            // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØµÙˆØª Ø§Ù„Ø³Ø§Ø¨Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„
            if (currentAudio) {
                currentAudio.pause();
            }

            // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù„Ù Ø§Ù„ØµÙˆØªÙŠ
            const audioPath = `data/${topic}/${itemName}.mp3`;
            
            try {
                currentAudio = new Audio(audioPath);
                
                // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ø¹Ù†Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª
                element.classList.add('playing');
                
                currentAudio.onended = () => {
                    element.classList.remove('playing');
                    currentAudio = null;
                };
                
                currentAudio.onerror = () => {
                    console.log(`Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„ØµÙˆØªÙŠ: ${audioPath}`);
                    element.classList.remove('playing');
                    currentAudio = null;
                    
                    // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±
                    // Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªÙ‚Ù†ÙŠØ© Text-to-Speech ÙƒØ¨Ø¯ÙŠÙ„
                    speakText(element.querySelector('.vocab-label').textContent);
                };
                
                currentAudio.play();
                
            } catch (error) {
                console.log('Ø®Ø·Ø£ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª:', error);
                element.classList.remove('playing');
                
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Text-to-Speech ÙƒØ¨Ø¯ÙŠÙ„
                speakText(element.querySelector('.vocab-label').textContent);
            }
        }

        // ÙˆØ¸ÙŠÙØ© Ø¨Ø¯ÙŠÙ„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ ØµÙˆØª
        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'fr-FR'; // Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©
                utterance.rate = 0.8; // Ø³Ø±Ø¹Ø© Ù…ØªÙˆØ³Ø·Ø©
                utterance.pitch = 1; // Ù†Ø¨Ø±Ø© Ø·Ø¨ÙŠØ¹ÙŠØ©
                speechSynthesis.speak(utterance);
            }
        }

        // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ù…Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©
        document.addEventListener('DOMContentLoaded', function() {
            // Ø¥Ø¶Ø§ÙØ© Ø¯Ø¹Ù… Ø§Ù„Ù„Ù…Ø³
            document.addEventListener('touchstart', function() {}, {passive: true});
            
            // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£ÙˆØ¯ÙŠÙˆ Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©
            document.addEventListener('touchend', function() {
                // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„ØµÙˆØªÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©
                if (window.AudioContext || window.webkitAudioContext) {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    if (audioContext.state === 'suspended') {
                        audioContext.resume();
                    }
                }
            }, {once: true});
        });
    </script>
</body>
</html>
